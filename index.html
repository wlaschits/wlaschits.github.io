<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Startup Success Prediction</title>
    <link rel="stylesheet" href="{{ '/_assets/css/style.css' | 'https://_assets/css/style.css' }}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.6.4/math.min.js"></script>
    <script>
        let modelData;

        async function loadModel() {
            const response = await fetch('model_data.json');
            modelData = await response.json();
        }

        function predictSuccess() {
            let inputFeatures = [];
            document.querySelectorAll(".input-feature").forEach(input => {
                inputFeatures.push(parseFloat(input.value) || 0);
            });

            let coefficients = modelData.coefficients;
            let intercept = modelData.intercept;
            let prediction = intercept;
            
            for (let i = 0; i < coefficients.length; i++) {
                prediction += coefficients[i] * inputFeatures[i];
            }
            
            document.getElementById("prediction").innerText = `Predicted Success Probability: ${(prediction * 100).toFixed(2)}%`;
        }

        window.onload = loadModel;
    </script>
</head>
<body>
    <h2>Startup Success Prediction</h2>
    <p>Enter the startup features below:</p>

    <label>R&D Spend: <input type="number" class="input-feature"></label><br>
    <label>Marketing Spend: <input type="number" class="input-feature"></label><br>
    <label>Administration Cost: <input type="number" class="input-feature"></label><br>
    <label>State (Encoded): <input type="number" class="input-feature"></label><br>

    <button onclick="predictSuccess()">Predict</button>
    <h3 id="prediction">Predicted Success Probability: </h3>
</body>
</html>